<!-- Content Header (Page header) -->
<section class="content-header">
    <h1>
        资源编辑
        <small>编辑资源信息</small>
    </h1>
</section>
<section class="content">
    <div class="row">
        <div class="col-xs-12" style="max-height: 620px; overflow: auto;">
            <form id="submitForm" role="form">
                <input type="hidden" name="id" class="form-control" id="id"
                       value="{{data.res.id}}">
                <input type="hidden" name="abbName" class="form-control" id="mcsx"
                       value="{{data.res.abbName}}">

                <div class="form-group">
                    <label><i class="fa"></i><span style="color: red;font-weight: bolder">*</span>&nbsp;资源名称</label>
                    <input type="text" name="name" placeholder="请输入资源名称" class="form-control" id="zymc"
                           value="{{data.res.name}}" datatype="s1-10" errormsg="请填写1到10位中文、英文、数字和下划线！"
                           onchange="this.value=this.value.replace(/(^\s*)|(\s*$)/g,'')">

                    <span class="help-block"></span>
                </div>
                <div class="form-group">

                    <label><i class="fa"></i><span style="color: red;font-weight: bolder">*</span>&nbsp;资源编码</label>
                    <input type="text" name="code" class="form-control" placeholder="请输入资源编码" id="zybm"
                           value="{{data.res.code}}"
                           {{if data.res.id}}
                           readonly="readonly"
                           {{else}}
                           datatype="/^[0-9A-Za-z_]{1,20}$/" errormsg="请填写1到20位英文、数字和下划线！"
                           onchange="this.value=this.value.replace(/(^\s*)|(\s*$)/g,'')"
                           ajaxurl="system/core/resource/checkRescCode?bizsysid={{data.res.bizSysId}}&&id={{data.res.id}}"
                           {{/if}}>

                    <span class="help-block"></span>
                </div>


                <input type="hidden"
                       name="bizSysId" class="form-control" id="bizSysId"
                       value="{{data.res.bizSysId}}">
                {{if data.res.parentId}}
                <div class="form-group">
                    <label><i class="fa"></i>&nbsp;上级资源</label>

                    {{if data.res.type == '1'}}
                    <e-select class="form-control" name="parentId" id="parentId"
                              value="{{data.res.parentId}}"
                              e-option-value="id"
                              e-option-text="name"
                              e-url="/system/core/resource/listBizsys?search_EQ_type=0"
                              e-event="href:/{{path}}/selectOnChange,event:change"
                              e-type="post">
                    </e-select>
                    <span class="help-block"></span>

                    {{else}}
                    <input type="hidden" name="parentId" class="form-control" id="parentId"
                           value="{{data.res.parentId}}">
                    <input type="text" disabled="disabled" class="form-control"
                           value="{{data.res.parentName}}">
                    <span class="help-block"></span>
                    {{/if}}


                </div>

                {{/if}}


                <div class="form-group">

                    <label><i class="fa"></i><span style="color: red;font-weight: bolder">*</span>&nbsp;路径</label>
                    <input type="text" name="url" placeholder="请输入路径" class="form-control" id="xdlj"
                           value="{{data.res.url}}" datatype="*1-100"
                           onchange="this.value=this.value.replace(/(^\s*)|(\s*$)/g,'')">
                    <span class="help-block"></span>
                </div>


                <div class="form-group">

                    <label><i class="fa"></i><span style="color: red;font-weight: bolder">*</span>&nbsp;资源类型</label>

                    {{if data.res.id}}
                    <select id="selType" name="selType" class="form-control" disabled>
                        {{@data.res.typeSelect}}
                    </select>
                    {{else}}
                    <select id="selType" name="selType" class="form-control">
                        {{@data.res.typeSelect}}
                    </select>
                    {{/if}}

                    <input type="hidden" name="type" class="form-control" id="resType"
                           value="{{data.res.type}}">
                    <span class="help-block"></span>

                </div>


                {{if data.res.type == '1'}}

                <div class="input-group" id="ziyuantubiao">

                    <label><i class="fa"></i>&nbsp;资源图标</label>
                    <input type="text" name="icon" placeholder="请选择资源图标" class="form-control" id="zytb"
                           readonly="readonly"
                           value="{{data.res.icon}}">
                    <span class="input-group-btn">
                                <button type="button" class="btn btn-default btn-selectIcon"
                                        e-event="href:/{{path}}/iconChooserIds"
                                        style="background-color:#a9b6d0;margin-top: 25px;">
                                    <i class="fa fa-paint-brush"></i>&nbsp;&nbsp;选择图标
                                </button>
                            </span>
                    <span class="help-block"></span>
                </div>


                <div class="form-group" id="xianshimubiao">
                    <label><i class="fa"></i><span style="color: red;font-weight: bolder">*</span>&nbsp;显示目标</label>
                    <select id="target" name="target" class="form-control">
                        <option value="0" title="在DIV元素中显示菜单内容" {{if data.res.target==0}}selected{{/if}}>正常</option>
                        <option value="1" title="在IFrame元素中显示菜单内容" {{if data.res.target==1}}selected{{/if}}>嵌套
                        </option>
                        <option value="2" title="在IFrame元素中显示菜单内容" {{if data.res.target==2}}selected{{/if}}>窗口
                        </option>
                    </select>
                    <span class="help-block"></span>
                </div>
                {{/if}}
                <div class="form-group" id="qingqiufangfa">
                    <label><i class="fa"></i><span style="color: red;font-weight: bolder">*</span>&nbsp;请求方法</label>
                    <select id="requestMethod" name="requestMethod" class="form-control">
                        <option value="POST" {{if data.res.requestMethod=='POST'}}selected{{/if}}>POST</option>
                        <option value="GET" {{if data.res.requestMethod=='GET'}}selected{{/if}}>GET</option>
                        <option value="PUT" {{if data.res.requestMethod=='PUT'}}selected{{/if}}>PUT</option>
                        <option value="PATCH" {{if data.res.requestMethod=='PATCH'}}selected{{/if}}>PATCH</option>
                        <option value="DELETE" {{if data.res.requestMethod=='DELETE'}}selected{{/if}}>DELETE</option>
                    </select>
                    <span class="help-block"></span>
                </div>
                <div class="form-group">
                    <label><i class="fa"></i>&nbsp;排序编号</label>
                    <input type="text" name="sortNo" placeholder="请输入排序编号" class="form-control" id="pxbh"
                           ignore="ignore"
                           value="{{data.res.sortNo}}" datatype="n1-4"
                           onchange="this.value=this.value.replace(/(^\s*)|(\s*$)/g,'')">
                    <span class="help-block"></span>
                </div>
                <div class="form-group">
                    <label><i class="fa"></i>&nbsp;资源描述</label>
                    <textarea rows="5" cols="50" name="remark" placeholder="请输入资源描述" class="form-control"
                              ignore="ignore"
                              id="zyms" datatype="*0-200" onchange="this.value=this.value.replace(/(^\s*)|(\s*$)/g,'')">{{data.res.remark}}</textarea>
                    <span class="help-block"></span>
                </div>
                <div class="box-footer col-sm-12">
                    <button e-event="href:/{{path}}/submit?type=post&url=/system/core/resource/save&contentType=application/x-www-form-urlencoded&goUrl=/{{path}}/index"
                            class="btn btn-success" id="process_btn" type="button" title="保存信息">
                        <i class="fa fa-arrow-up"></i>&nbsp;保存信息
                    </button>
                    <button e-event="href:/{{path}}/goBack?goUrl=/{{path}}/index" class="btn btn-primary " id="back_btn"
                            type="button" title="返回">
                        <i class="fa fa-undo"></i>&nbsp;返回
                    </button>
                </div>
            </form>
        </div>
        <!-- /.box-body -->
        <!-- </div>-->

        <!-- /.box -->

        <!-- /.col -->
    </div>
    <!-- Your Page Content Here -->
</section>
<!-- /.content -->
